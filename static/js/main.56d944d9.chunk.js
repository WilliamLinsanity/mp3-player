(this.webpackJsonpmusic=this.webpackJsonpmusic||[]).push([[0],{26:function(n,e,t){},27:function(n,e,t){},50:function(n,e,t){"use strict";t.r(e);var a,o,c,i,r,s,d,l,u,j,f,b,p,x,h,g,O,m,v,y,k,w,I,z,M,S,C,L,P,T,V,D,Y,E,F,N,U,R,W,A,q=t(1),B=t.n(q),X=t(14),_=t.n(X),H=(t(26),t(27),t(12)),J=t.n(H),G=t(15),K=t(6),Q=t(5),Z=t(7),$=t(8),nn=t(16),en=t.n(nn),tn=t(17),an=t(3),on=t(4),cn=on.a.div(a||(a=Object(an.a)(["\n  height: 100vh;\n  position: relative;\n  flex: 1 1 auto;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #2a2a2a;\n"]))),rn=on.a.div(o||(o=Object(an.a)(["\n  display: block;\n  height: 30vh;\n  object-fit: cover;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  z-index: 1;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: rgba(22, 22, 22, 0.8);\n    width: 100%;\n    height: 30vh;\n  }\n"]))),sn=on.a.div(c||(c=Object(an.a)(["\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n  color: #ffffff;\n  padding: 0 20px;\n  svg {\n    color: #ffffff;\n  }\n"]))),dn=on.a.div(i||(i=Object(an.a)(["\n  z-index: 20;\n  display: flex;\n  align-items: center;\n"]))),ln=on.a.div(r||(r=Object(an.a)(["\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background-color: #3927ff;\n  margin: 0 5px;\n"]))),un=on.a.div(s||(s=Object(an.a)(["\n  font-size: 16px;\n"]))),jn=on.a.div(d||(d=Object(an.a)(["\n  display: flex;\n  padding: 0 70px;\n  margin-top: 80px;\n  justify-content: space-between;\n\n  img {\n    width: 185px;\n    height: 185px;\n    z-index: 20;\n  }\n"]))),fn=on.a.div(l||(l=Object(an.a)(["\n  display: flex;\n  flex-direction: column;\n  color: #ffffff;\n  z-index: 20;\n"]))),bn=on.a.div(u||(u=Object(an.a)(["\n  font-size: 40px;\n  margin-bottom: 30px;\n"]))),pn=on.a.div(j||(j=Object(an.a)(["\n  font-size: 16px;\n"]))),xn=on.a.div(f||(f=Object(an.a)(["\n  display: flex;\n  flex-direction: column;\n  z-index: 20;\n  justify-content: flex-end;\n"]))),hn=on.a.button(b||(b=Object(an.a)(["\n  width: 82px;\n  height: 82px;\n  border-radius: 50%;\n  border: 0;\n  background-image: linear-gradient(to bottom left, #ffa883, #3927ff);\n  cursor: pointer;\n\n  &:hover {\n    background-image: linear-gradient(to top right, #ffa883, #3927ff);\n  }\n\n  svg {\n    text-align: center;\n    color: #ffffff;\n  }\n"]))),gn=on.a.ul(p||(p=Object(an.a)(["\n  flex: auto;\n  width: 100%;\n  padding: 80px 0 10px 0;\n  background-color: #2a2a2a;\n  height: 50vh;\n  overflow: hidden;\n  overflow-y: scroll;\n"]))),On=on.a.li(x||(x=Object(an.a)(["\n  font-size: 18px;\n  color: #ffffff;\n  margin: 5px 70px;\n  padding: 16px 30px;\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n\n  div {\n    margin: 0 5px;\n  }\n\n  &:nth-of-type(odd) {\n    background-color: #222222;\n  }\n\n  &:nth-of-type(even) {\n    background-color: #2a2a2a;\n  }\n\n  &:hover,\n  &.active {\n    background-image: linear-gradient(to right, #ffa883, #3927ff);\n  }\n"]))),mn=on.a.div(h||(h=Object(an.a)([""]))),vn=on.a.div(g||(g=Object(an.a)([""]))),yn=on.a.div(O||(O=Object(an.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),kn=on.a.div(m||(m=Object(an.a)(["\n  margin-right: 70px;\n"]))),wn=on.a.div(v||(v=Object(an.a)(["\n  margin: 0 10px;\n"]))),In=on.a.div(y||(y=Object(an.a)(["\n  margin: 0 10px;\n"]))),zn=on.a.div(k||(k=Object(an.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justfiy-content: center;\n  border-radius: 5px;\n  height: 10px;\n  margin: 20px 20px 0 20px;\n  background-color: #474747;\n  cursor: pointer;\n"]))),Mn=on.a.div(w||(w=Object(an.a)(["\n  position: absolute;\n  margin-left: -5px;\n  top: 50%;\n  transform: translateY(-50%);\n  left: 0;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  border-radius: 50%;\n  background-color: #d8d8d8;\n  z-index: 20;\n  cursor: pointer;\n"]))),Sn=on.a.div(I||(I=Object(an.a)(["\n  display: flex;\n  justfiy-content: center;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 10px;\n  border-radius: 5px;\n  background-image: linear-gradient(to bottom left, #ffa883, #3927ff);\n  z-index: 10;\n"]))),Cn=on.a.div(z||(z=Object(an.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin: 30px 10px 0 10px;\n"]))),Ln=on.a.div(M||(M=Object(an.a)(["\n  color: #474747;\n  font-size: 18px;\n"]))),Pn=on.a.div(S||(S=Object(an.a)(["\n  display: flex;\n\n  div {\n    padding: 0 20px;\n  }\n"]))),Tn=on.a.div(C||(C=Object(an.a)(["\n  color: #474747;\n  cursor: pointer;\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),Vn=on.a.div(L||(L=Object(an.a)(["\n  color: #474747;\n  cursor: pointer;\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),Dn=on.a.div(P||(P=Object(an.a)(["\n  color: #474747;\n  cursor: pointer;\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),Yn=on.a.div(T||(T=Object(an.a)(["\n  color: #474747;\n  cursor: pointer;\n\n  &.active {\n    color: #7a7a7a;\n  }\n"]))),En=on.a.div(V||(V=Object(an.a)(["\n  display: flex;\n  color: #474747;\n  align-items: center;\n\n  svg {\n    cursor: pointer;\n  }\n\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),Fn=on.a.div(D||(D=Object(an.a)(["\n  width: 150px;\n  position: relative;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justfiy-content: center;\n  height: 10px;\n  margin: 0 10px;\n  background-color: #474747;\n  cursor: pointer;\n"]))),Nn=on.a.div(Y||(Y=Object(an.a)(["\n  margin-left: -5px;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  left: 0;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: #d8d8d8;\n  z-index: 20;\n  cursor: pointer;\n"]))),Un=on.a.div(E||(E=Object(an.a)(["\n  width: 150px;\n  display: flex;\n  justfiy-content: center;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 10px;\n  border-radius: 5px;\n  background-image: linear-gradient(to bottom left, #ffa883, #3927ff);\n  z-index: 10;\n"]))),Rn=t(0),Wn=function(n,e){var t=Math.floor(n%60),a=e?n/1e3/60:n/60,o=a/60;return a>=60?"".concat(Math.floor(o)," : ").concat(Math.floor(a)," : ").concat(t):a<10&&t>=10?"0".concat(Math.floor(a)," : ").concat(t):a<10&&t<10?"0".concat(Math.floor(a)," : 0").concat(t):a>10&&t<10?"".concat(Math.floor(a)," : 0").concat(t):"".concat(Math.floor(a)," : ").concat(t)},An={height:"0",width:"0",playerVars:{autoplay:0}},qn=function(n,e){return Math.round(Math.round(n*Math.pow(10,(e||0)+1))/10)/Math.pow(10,e||0)},Bn=function(n){var e=null,t=n.playList,a=t.images,o=t.tracks,c=t.title,i=t.description,r=t.updated_at,s=Object(q.useState)(null),d=Object(K.a)(s,2),l=d[0],u=d[1],j=Object(q.useState)(null),f=Object(K.a)(j,2),b=f[0],p=f[1],x=Object(q.useState)("qIAFyPYlq_U"),h=Object(K.a)(x,2),g=h[0],O=h[1],m=Object(q.useState)({songName:"",isLoop:!1}),v=Object(K.a)(m,2),y=v[0],k=v[1],w=Object(q.useState)({currentTime:Wn(0),duration:Wn(0)}),I=Object(K.a)(w,2),z=I[0],M=I[1],S=Object(q.useState)({songIndex:0,method:""}),C=Object(K.a)(S,2),L=C[0],P=C[1],T=Object(q.useState)({isMuted:!1,volume:0}),V=Object(K.a)(T,2),D=V[0],Y=V[1],E=Object(q.useState)({progress:"0%",volume:"0%"}),F=Object(K.a)(E,2),N=F[0],U=F[1],R=Object(q.useState)(!1),W=Object(K.a)(R,2),A=W[0],B=W[1],X=Object(q.useRef)(),_=Object(q.useRef)();Object(q.useEffect)((function(){P({songIndex:0,method:"init"}),o&&(H(o.data[0].name),k(Object(Q.a)(Object(Q.a)({},y),{},{songName:o.data[0].name})))}),[o]);var H=function(n){return fetch("https://www.googleapis.com/youtube/v3/search?".concat(function(n){var e=[];for(var t in n){var a=t,o=n[t];e.push(a+"="+o)}return e.join("&")}({key:"AIzaSyDDE17uz3IwdH0jyFPdVkhukvEdwIPWVXE",part:"snippet",q:n}))).then((function(n){return n.json()})).then((function(n){O(n.items[0].id.videoId)})).catch((function(n){return console.log("error",n)}))},J=function(){e=setInterval((function(){var n=l.getCurrentTime()/l.getDuration()*100;M({duration:Wn(l.getDuration()),currentTime:Wn(l.getCurrentTime())}),U(n?function(e){return{volume:e.volume,progress:"".concat(qn(n,2),"%")}}:function(n){return{volume:n.volume,progress:"0%"}})}),1e3)},G=function(){l.playVideo(),J()},nn=function(){l.pauseVideo(),clearInterval(e)},an=function(n){var e=!1,t=Math.floor(n.nativeEvent.offsetX/_.current.offsetWidth*100);e||(U(Object(Q.a)(Object(Q.a)({},N),{},{volume:"".concat(qn(t,2),"%")})),Y({isMuted:!Number(t),volume:t}),l.setVolume(t)),e=!e},on=function(){var n=D.volume;D.isMuted?(l.setVolume(D.volume),Y({isMuted:!1,volume:n})):(l.setVolume(0),Y(Object(Q.a)(Object(Q.a)({},D),{},{isMuted:!0})))},Bn=function(n){1===n.target.getPlayerState()?(p(!0),function(n){k(Object(Q.a)(Object(Q.a)({},y),{},{songName:o.data[0].name})),Y(Object(Q.a)(Object(Q.a)({},D),{},{volume:n.target.getVolume()}))}(n)):5===n.target.getPlayerState()&&"change"===L.method?G():!n.target.getPlayerState()&&y.isLoop?(n.target.clearVideo(),n.target.playVideo()):n.target.getPlayerState()?p(!1):(P({songIndex:L.songIndex+1,method:"change"}),H(o.data[L.songIndex+1].name))},Xn=function(n){var t=n.nativeEvent.offsetX/X.current.offsetWidth*l.getDuration();A?(l.seekTo(Wn(t),!1),B(!A)):(e=setTimeout((function(){J(),l.seekTo(t,!0)}),1e3),B(!A))};return!!a&&Object(Rn.jsxs)(cn,{children:[Object(Rn.jsxs)(rn,{style:{backgroundImage:"url(".concat(a[0].url,")")},children:[Object(Rn.jsx)(sn,{children:Object(Rn.jsxs)(dn,{children:[Object(Rn.jsx)(ln,{}),Object(Rn.jsx)(un,{children:"William"})]})}),Object(Rn.jsxs)(jn,{children:[Object(Rn.jsx)("img",{src:a[0].url,alt:i}),Object(Rn.jsxs)(fn,{children:[Object(Rn.jsx)(bn,{children:c}),Object(Rn.jsxs)(pn,{children:["\u66f4\u65b0\u6642\u9593\uff1a",en()(r).format("YYYY.MM.DD")]})]}),Object(Rn.jsx)(xn,{children:b?Object(Rn.jsx)(hn,{onClick:nn,children:Object(Rn.jsx)(Z.a,{icon:$.b,size:"3x"})}):Object(Rn.jsx)(hn,{onClick:G,children:Object(Rn.jsx)(Z.a,{icon:$.d,size:"3x"})})})]})]}),Object(Rn.jsx)(gn,{children:o.data.map((function(n,e){return Object(Rn.jsxs)(On,{className:"".concat(L.songIndex===e?"active":""),onClick:function(){return function(n,e){P({method:"change",songIndex:e}),H(n.name)}(n,e)},children:[Object(Rn.jsx)(vn,{children:e+1}),Object(Rn.jsx)(mn,{children:n.name}),Object(Rn.jsxs)(yn,{children:[Object(Rn.jsx)(kn,{children:Wn(n.duration,n.name)}),Object(Rn.jsx)(wn,{children:Object(Rn.jsx)(Z.a,{icon:$.f})}),Object(Rn.jsx)(In,{children:Object(Rn.jsx)(Z.a,{icon:$.a})})]})]},e)}))}),Object(Rn.jsxs)("footer",{children:[Object(Rn.jsxs)(zn,{ref:X,onMouseDown:Xn,onMouseUp:Xn,children:[Object(Rn.jsx)(Mn,{onMouseDown:Xn,onMouseUp:Xn,style:{left:N.progress}}),Object(Rn.jsx)(Sn,{style:{width:N.progress}})]}),Object(Rn.jsxs)(Cn,{children:[Object(Rn.jsxs)(Ln,{children:[z.currentTime,"/",z.duration]}),Object(Rn.jsxs)(Pn,{children:[Object(Rn.jsx)(Vn,{onClick:function(){0===L.songIndex?(P(Object(Q.a)(Object(Q.a)({},L),{},{songIndex:o.data.length-1})),H(o.data[o.data.length-1].name)):(P(Object(Q.a)(Object(Q.a)({},L),{},{songIndex:o.data.length-1})),H(o.data[L.songIndex-1].name))},children:Object(Rn.jsx)(Z.a,{icon:$.h,size:"2x"})}),b?Object(Rn.jsx)(Tn,{onClick:nn,children:Object(Rn.jsx)(Z.a,{icon:$.c,size:"2x"})}):Object(Rn.jsx)(Tn,{onClick:G,children:Object(Rn.jsx)(Z.a,{icon:$.e,size:"2x"})}),Object(Rn.jsx)(Dn,{onClick:function(){L.songIndex===o.data.length-1?(P(Object(Q.a)(Object(Q.a)({},L),{},{songIndex:0})),H(o.data[0].name)):(P(Object(Q.a)(Object(Q.a)({},L),{},{songIndex:L.songIndex+1})),H(o.data[L.songIndex+1].name))},children:Object(Rn.jsx)(Z.a,{icon:$.i,size:"2x"})}),Object(Rn.jsx)(Yn,{className:"".concat(y.isLoop?"active":""),onClick:function(){l.setLoop(!0),k(Object(Q.a)(Object(Q.a)({},y),{},{isLoop:!y.isLoop}))},children:Object(Rn.jsx)(Z.a,{icon:$.g,size:"2x"})})]}),Object(Rn.jsxs)(En,{children:[D.isMuted?Object(Rn.jsx)(Z.a,{onClick:on,icon:$.j,size:"2x"}):Object(Rn.jsx)(Z.a,{onClick:on,icon:$.k,size:"2x"}),Object(Rn.jsxs)(Fn,{ref:_,onMouseUp:an,children:[Object(Rn.jsx)(Nn,{onMouseUp:an,style:{left:N.volume}}),Object(Rn.jsx)(Un,{style:{width:N.volume}})]})]})]})]}),Object(Rn.jsx)(tn.a,{videoId:g,onReady:function(n){u(n.target)},opts:An,onStateChange:function(n){return Bn(n)}})]})},Xn=function(n){var e=n.chartsList,t=n.playList,a=n.getPlayListInfo,o=on.a.div(F||(F=Object(an.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: #222222;\n    color: #979797;\n    width: 15rem;\n    height: 100vh;\n    position: relative;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 10;\n  "]))),c=on.a.div(N||(N=Object(an.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: #161616;\n    padding: 23px;\n    color: #7a7a7a;\n  "]))),i=on.a.div(U||(U=Object(an.a)(["\n    font-size: 18px;\n    line-height: 40px;\n  "]))),r=on.a.button(R||(R=Object(an.a)(["\n    background-color: transparent;\n    border: none;\n    font-size: 16px;\n    cursor: pointer;\n\n    &:after,\n    &:before {\n      content: '';\n      display: block;\n      background-color: #7a7a7a;\n      position: absolute;\n      transform: translate(-50%, -50%);\n    }\n\n    &:before {\n      height: 1em;\n      width: 0.2em;\n    }\n\n    &:after {\n      height: 0.2em;\n      width: 1em;\n    }\n  "]))),s=on.a.ul(W||(W=Object(an.a)(["\n    list-style: none;\n    font-size: 16px;\n    padding: 0;\n    margin: 0;\n    overflow-y: auto;\n  "]))),d=on.a.li(A||(A=Object(an.a)(["\n    padding: 12px 0 14px 16px;\n    text-align: left;\n    cursor: pointer;\n\n    &:hover {\n      background-image: linear-gradient(to right, #ffa883, #3927ff);\n      color: #ffffff;\n    }\n  "]))),l=function(n){var e=n.target.id;a([{id:e}])};return Object(Rn.jsxs)(o,{style:{display:t.images?"flex":"none"},children:[Object(Rn.jsxs)(c,{children:[Object(Rn.jsx)(i,{children:"\u66a2\u92b7\u699c\u55ae"}),Object(Rn.jsx)(r,{})]}),Object(Rn.jsx)(s,{children:e.map((function(n){return Object(Rn.jsx)(d,{id:n.id,onClick:l,children:n.title},n.id)}))})]})},_n=function(n){var e=[];for(var t in n){var a=encodeURIComponent(t),o=encodeURIComponent(n[t]);e.push(a+"="+o)}return e=e.join("&")},Hn=function(){var n=Object(q.useState)([]),e=Object(K.a)(n,2),t=e[0],a=e[1],o=Object(q.useState)({}),c=Object(K.a)(o,2),i=c[0],r=c[1],s={territory:"TW"},d=new Headers;d.append("Authorization","Bearer ".concat(localStorage.getItem("token")));var l=Object(q.useCallback)((function(){(function(){var n=Object(G.a)(J.a.mark((function n(){var e,t,o;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u();case 2:return n.next=4,Promise.all([j()]);case 4:e=n.sent,t=Object(K.a)(e,1),o=t[0],a(o);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]),u=function(){return fetch("https://music-express1.herokuapp.com/login",{method:"POST"}).then((function(n){return n.json()})).then((function(n){localStorage.setItem("token",n.access_token)})).catch((function(n){return console.log("error",n)}))},j=function(){return fetch("https://api.kkbox.com/v1.1/charts?".concat(_n(s)),{headers:d}).then((function(n){return n.json()})).then((function(n){var e=n.data;return f(e),e}))},f=function(n){return fetch("https://api.kkbox.com/v1.1/charts/".concat(n[0].id,"?").concat(_n(s)),{headers:d}).then((function(n){return n.json()})).then((function(n){return r(n)}))};return Object(q.useEffect)((function(){l()}),[l]),Object(Rn.jsxs)(Rn.Fragment,{children:[Object(Rn.jsx)(Xn,{chartsList:t,playList:i,getPlayListInfo:f}),Object(Rn.jsx)(Bn,{playList:i})]})};t(49);var Jn=function(){return Object(Rn.jsx)("div",{className:"App",children:Object(Rn.jsx)(Hn,{})})},Gn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,51)).then((function(e){var t=e.getCLS,a=e.getFID,o=e.getFCP,c=e.getLCP,i=e.getTTFB;t(n),a(n),o(n),c(n),i(n)}))};_.a.render(Object(Rn.jsx)(B.a.StrictMode,{children:Object(Rn.jsx)(Jn,{})}),document.getElementById("root")),Gn()}},[[50,1,2]]]);
//# sourceMappingURL=main.56d944d9.chunk.js.map