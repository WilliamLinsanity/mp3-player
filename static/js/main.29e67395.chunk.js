(this.webpackJsonpmusic=this.webpackJsonpmusic||[]).push([[0],{26:function(n,e,t){},27:function(n,e,t){},50:function(n,e,t){"use strict";t.r(e);var o,a,c,i,r,s,d,l,u,j,f,b,p,x,h,g,O,v,m,y,k,S,w,I,C,z,M,T,_,E,L,P,D,R,A,N,U,V,Y,F,W=t(1),K=t.n(W),H=t(14),B=t.n(H),q=(t(26),t(27),t(12)),J=t.n(q),X=t(15),G=t(6),Q=t(5),Z=t(7),$=t(8),nn=t(16),en=t.n(nn),tn=t(17),on=t(3),an=t(4),cn=an.a.div(o||(o=Object(on.a)(["\n  height: 100vh;\n  position: relative;\n  flex: 1 1 auto;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #2a2a2a;\n"]))),rn=an.a.div(a||(a=Object(on.a)(["\n  display: block;\n  height: 30vh;\n  object-fit: cover;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  z-index: 1;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: rgba(22, 22, 22, 0.8);\n    width: 100%;\n    height: 30vh;\n  }\n"]))),sn=an.a.div(c||(c=Object(on.a)(["\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n  color: #ffffff;\n  padding: 0 20px;\n  svg {\n    color: #ffffff;\n  }\n"]))),dn=an.a.div(i||(i=Object(on.a)(["\n  z-index: 20;\n  display: flex;\n  align-items: center;\n"]))),ln=an.a.div(r||(r=Object(on.a)(["\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background-color: #3927ff;\n  margin: 0 5px;\n"]))),un=an.a.div(s||(s=Object(on.a)(["\n  font-size: 16px;\n"]))),jn=an.a.div(d||(d=Object(on.a)(["\n  display: flex;\n  padding: 0 70px;\n  margin-top: 80px;\n  justify-content: space-between;\n\n  img {\n    width: 185px;\n    height: 185px;\n    z-index: 20;\n  }\n"]))),fn=an.a.div(l||(l=Object(on.a)(["\n  display: flex;\n  flex-direction: column;\n  color: #ffffff;\n  z-index: 20;\n"]))),bn=an.a.div(u||(u=Object(on.a)(["\n  font-size: 40px;\n  margin-bottom: 30px;\n"]))),pn=an.a.div(j||(j=Object(on.a)(["\n  font-size: 16px;\n"]))),xn=an.a.div(f||(f=Object(on.a)(["\n  display: flex;\n  flex-direction: column;\n  z-index: 20;\n  justify-content: flex-end;\n"]))),hn=an.a.button(b||(b=Object(on.a)(["\n  width: 82px;\n  height: 82px;\n  border-radius: 50%;\n  border: 0;\n  background-image: linear-gradient(to bottom left, #ffa883, #3927ff);\n  cursor: pointer;\n\n  &:hover {\n    background-image: linear-gradient(to top right, #ffa883, #3927ff);\n  }\n\n  svg {\n    text-align: center;\n    color: #ffffff;\n  }\n"]))),gn=an.a.ul(p||(p=Object(on.a)(["\n  flex: auto;\n  width: 100%;\n  padding: 80px 0 10px 0;\n  background-color: #2a2a2a;\n  height: 50vh;\n  overflow: hidden;\n  overflow-y: scroll;\n"]))),On=an.a.li(x||(x=Object(on.a)(["\n  font-size: 18px;\n  color: #ffffff;\n  margin: 5px 70px;\n  padding: 16px 30px;\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n\n  div {\n    margin: 0 5px;\n  }\n\n  &:nth-of-type(odd) {\n    background-color: #222222;\n  }\n\n  &:nth-of-type(even) {\n    background-color: #2a2a2a;\n  }\n\n  &:hover,\n  &.active {\n    background-image: linear-gradient(to right, #ffa883, #3927ff);\n  }\n"]))),vn=an.a.div(h||(h=Object(on.a)([""]))),mn=an.a.div(g||(g=Object(on.a)([""]))),yn=an.a.div(O||(O=Object(on.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),kn=an.a.div(v||(v=Object(on.a)(["\n  margin-right: 70px;\n"]))),Sn=an.a.div(m||(m=Object(on.a)(["\n  margin: 0 10px;\n"]))),wn=an.a.div(y||(y=Object(on.a)(["\n  margin: 0 10px;\n"]))),In=an.a.div(k||(k=Object(on.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justfiy-content: center;\n  border-radius: 5px;\n  height: 10px;\n  margin: 20px 20px 0 20px;\n  background-color: #474747;\n  cursor: pointer;\n"]))),Cn=an.a.div(S||(S=Object(on.a)(["\n  position: absolute;\n  margin-left: -5px;\n  top: 50%;\n  transform: translateY(-50%);\n  left: 0;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  border-radius: 50%;\n  background-color: #d8d8d8;\n  z-index: 20;\n  cursor: pointer;\n"]))),zn=an.a.div(w||(w=Object(on.a)(["\n  display: flex;\n  justfiy-content: center;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 10px;\n  border-radius: 5px;\n  background-image: linear-gradient(to bottom left, #ffa883, #3927ff);\n  z-index: 10;\n"]))),Mn=an.a.div(I||(I=Object(on.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin: 30px 10px 0 10px;\n"]))),Tn=an.a.div(C||(C=Object(on.a)(["\n  color: #474747;\n  font-size: 18px;\n"]))),_n=an.a.div(z||(z=Object(on.a)(["\n  display: flex;\n\n  div {\n    padding: 0 20px;\n  }\n"]))),En=an.a.div(M||(M=Object(on.a)(["\n  color: #474747;\n  cursor: pointer;\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),Ln=an.a.div(T||(T=Object(on.a)(["\n  color: #474747;\n  cursor: pointer;\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),Pn=an.a.div(_||(_=Object(on.a)(["\n  color: #474747;\n  cursor: pointer;\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),Dn=an.a.div(E||(E=Object(on.a)(["\n  color: #474747;\n  cursor: pointer;\n\n  &.active {\n    color: #7a7a7a;\n  }\n"]))),Rn=an.a.div(L||(L=Object(on.a)(["\n  display: flex;\n  color: #474747;\n  align-items: center;\n\n  svg {\n    cursor: pointer;\n  }\n\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),An=an.a.div(P||(P=Object(on.a)(["\n  width: 150px;\n  position: relative;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justfiy-content: center;\n  height: 10px;\n  margin: 0 10px;\n  background-color: #474747;\n  cursor: pointer;\n"]))),Nn=an.a.div(D||(D=Object(on.a)(["\n  margin-left: -5px;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  left: 0;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: #d8d8d8;\n  z-index: 20;\n  cursor: pointer;\n"]))),Un=an.a.div(R||(R=Object(on.a)(["\n  width: 150px;\n  display: flex;\n  justfiy-content: center;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 10px;\n  border-radius: 5px;\n  background-image: linear-gradient(to bottom left, #ffa883, #3927ff);\n  z-index: 10;\n"]))),Vn=t(0),Yn=function(n,e){var t=Math.floor(n%60),o=e?n/1e3/60:n/60,a=o/60;return o>=60?"".concat(Math.floor(a)," : ").concat(Math.floor(o)," : ").concat(t):o<10&&t>=10?"0".concat(Math.floor(o)," : ").concat(t):o<10&&t<10?"0".concat(Math.floor(o)," : 0").concat(t):o>10&&t<10?"".concat(Math.floor(o)," : 0").concat(t):"".concat(Math.floor(o)," : ").concat(t)},Fn={height:"0",width:"0",playerVars:{autoplay:0}},Wn=function(n,e){return Math.round(Math.round(n*Math.pow(10,(e||0)+1))/10)/Math.pow(10,e||0)},Kn=function(n){var e=null,t=n.playList,o=t.images,a=t.tracks,c=t.title,i=t.description,r=t.updated_at,s=Object(W.useState)(null),d=Object(G.a)(s,2),l=d[0],u=d[1],j=Object(W.useState)(null),f=Object(G.a)(j,2),b=f[0],p=f[1],x=Object(W.useState)("qIAFyPYlq_U"),h=Object(G.a)(x,2),g=h[0],O=h[1],v=Object(W.useState)({songName:"",isLoop:!1}),m=Object(G.a)(v,2),y=m[0],k=m[1],S=Object(W.useState)({currentTime:Yn(0),duration:Yn(0)}),w=Object(G.a)(S,2),I=w[0],C=w[1],z=Object(W.useState)({songIndex:0,method:""}),M=Object(G.a)(z,2),T=M[0],_=M[1],E=Object(W.useState)({isMuted:!1,volume:0}),L=Object(G.a)(E,2),P=L[0],D=L[1],R=Object(W.useState)({progress:"0%",volume:"0%"}),A=Object(G.a)(R,2),N=A[0],U=A[1],V=Object(W.useState)(!1),Y=Object(G.a)(V,2),F=Y[0],K=Y[1],H=Object(W.useRef)(),B=Object(W.useRef)();Object(W.useEffect)((function(){_({songIndex:0,method:"init"}),a&&(q(a.data[0].name),k(Object(Q.a)(Object(Q.a)({},y),{},{songName:a.data[0].name})))}),[a]);var q=function(n){console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/mp3-player",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_KEY);var e={key:Object({NODE_ENV:"production",PUBLIC_URL:"/mp3-player",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_KEY,part:"snippet",q:n};return fetch("https://www.googleapis.com/youtube/v3/search?".concat(function(n){var e=[];for(var t in n){var o=t,a=n[t];e.push(o+"="+a)}return e.join("&")}(e))).then((function(n){return n.json()})).then((function(n){O(n.items[0].id.videoId)})).catch((function(n){return console.log("error",n)}))},J=function(){e=setInterval((function(){var n=l.getCurrentTime()/l.getDuration()*100;C({duration:Yn(l.getDuration()),currentTime:Yn(l.getCurrentTime())}),U(n?function(e){return{volume:e.volume,progress:"".concat(Wn(n,2),"%")}}:function(n){return{volume:n.volume,progress:"0%"}})}),1e3)},X=function(){l.playVideo(),J()},nn=function(){l.pauseVideo(),clearInterval(e)},on=function(n){var e=!1,t=Math.floor(n.nativeEvent.offsetX/B.current.offsetWidth*100);e||(U(Object(Q.a)(Object(Q.a)({},N),{},{volume:"".concat(Wn(t,2),"%")})),D({isMuted:!Number(t),volume:t}),l.setVolume(t)),e=!e},an=function(){var n=P.volume;P.isMuted?(l.setVolume(P.volume),D({isMuted:!1,volume:n})):(l.setVolume(0),D(Object(Q.a)(Object(Q.a)({},P),{},{isMuted:!0})))},Kn=function(n){1===n.target.getPlayerState()?(p(!0),function(n){k(Object(Q.a)(Object(Q.a)({},y),{},{songName:a.data[0].name})),D(Object(Q.a)(Object(Q.a)({},P),{},{volume:n.target.getVolume()}))}(n)):5===n.target.getPlayerState()&&"change"===T.method?X():!n.target.getPlayerState()&&y.isLoop?(n.target.clearVideo(),n.target.playVideo()):n.target.getPlayerState()?p(!1):(_({songIndex:T.songIndex+1,method:"change"}),q(a.data[T.songIndex+1].name))},Hn=function(n){var t=n.nativeEvent.offsetX/H.current.offsetWidth*l.getDuration();F?(l.seekTo(Yn(t),!1),K(!F)):(e=setTimeout((function(){J(),l.seekTo(t,!0)}),1e3),K(!F))};return!!o&&Object(Vn.jsxs)(cn,{children:[Object(Vn.jsxs)(rn,{style:{backgroundImage:"url(".concat(o[0].url,")")},children:[Object(Vn.jsx)(sn,{children:Object(Vn.jsxs)(dn,{children:[Object(Vn.jsx)(ln,{}),Object(Vn.jsx)(un,{children:"William"})]})}),Object(Vn.jsxs)(jn,{children:[Object(Vn.jsx)("img",{src:o[0].url,alt:i}),Object(Vn.jsxs)(fn,{children:[Object(Vn.jsx)(bn,{children:c}),Object(Vn.jsxs)(pn,{children:["\u66f4\u65b0\u6642\u9593\uff1a",en()(r).format("YYYY.MM.DD")]})]}),Object(Vn.jsx)(xn,{children:b?Object(Vn.jsx)(hn,{onClick:nn,children:Object(Vn.jsx)(Z.a,{icon:$.b,size:"3x"})}):Object(Vn.jsx)(hn,{onClick:X,children:Object(Vn.jsx)(Z.a,{icon:$.d,size:"3x"})})})]})]}),Object(Vn.jsx)(gn,{children:a.data.map((function(n,e){return Object(Vn.jsxs)(On,{className:"".concat(T.songIndex===e?"active":""),onClick:function(){return function(n,e){_({method:"change",songIndex:e}),q(n.name)}(n,e)},children:[Object(Vn.jsx)(mn,{children:e+1}),Object(Vn.jsx)(vn,{children:n.name}),Object(Vn.jsxs)(yn,{children:[Object(Vn.jsx)(kn,{children:Yn(n.duration,n.name)}),Object(Vn.jsx)(Sn,{children:Object(Vn.jsx)(Z.a,{icon:$.f})}),Object(Vn.jsx)(wn,{children:Object(Vn.jsx)(Z.a,{icon:$.a})})]})]},e)}))}),Object(Vn.jsxs)("footer",{children:[Object(Vn.jsxs)(In,{ref:H,onMouseDown:Hn,onMouseUp:Hn,children:[Object(Vn.jsx)(Cn,{onMouseDown:Hn,onMouseUp:Hn,style:{left:N.progress}}),Object(Vn.jsx)(zn,{style:{width:N.progress}})]}),Object(Vn.jsxs)(Mn,{children:[Object(Vn.jsxs)(Tn,{children:[I.currentTime,"/",I.duration]}),Object(Vn.jsxs)(_n,{children:[Object(Vn.jsx)(Ln,{onClick:function(){0===T.songIndex?(_(Object(Q.a)(Object(Q.a)({},T),{},{songIndex:a.data.length-1})),q(a.data[a.data.length-1].name)):(_(Object(Q.a)(Object(Q.a)({},T),{},{songIndex:a.data.length-1})),q(a.data[T.songIndex-1].name))},children:Object(Vn.jsx)(Z.a,{icon:$.h,size:"2x"})}),b?Object(Vn.jsx)(En,{onClick:nn,children:Object(Vn.jsx)(Z.a,{icon:$.c,size:"2x"})}):Object(Vn.jsx)(En,{onClick:X,children:Object(Vn.jsx)(Z.a,{icon:$.e,size:"2x"})}),Object(Vn.jsx)(Pn,{onClick:function(){T.songIndex===a.data.length-1?(_(Object(Q.a)(Object(Q.a)({},T),{},{songIndex:0})),q(a.data[0].name)):(_(Object(Q.a)(Object(Q.a)({},T),{},{songIndex:T.songIndex+1})),q(a.data[T.songIndex+1].name))},children:Object(Vn.jsx)(Z.a,{icon:$.i,size:"2x"})}),Object(Vn.jsx)(Dn,{className:"".concat(y.isLoop?"active":""),onClick:function(){l.setLoop(!0),k(Object(Q.a)(Object(Q.a)({},y),{},{isLoop:!y.isLoop}))},children:Object(Vn.jsx)(Z.a,{icon:$.g,size:"2x"})})]}),Object(Vn.jsxs)(Rn,{children:[P.isMuted?Object(Vn.jsx)(Z.a,{onClick:an,icon:$.j,size:"2x"}):Object(Vn.jsx)(Z.a,{onClick:an,icon:$.k,size:"2x"}),Object(Vn.jsxs)(An,{ref:B,onMouseUp:on,children:[Object(Vn.jsx)(Nn,{onMouseUp:on,style:{left:N.volume}}),Object(Vn.jsx)(Un,{style:{width:N.volume}})]})]})]})]}),Object(Vn.jsx)(tn.a,{videoId:g,onReady:function(n){u(n.target)},opts:Fn,onStateChange:function(n){return Kn(n)}})]})},Hn=function(n){var e=n.chartsList,t=n.playList,o=n.getPlayListInfo,a=an.a.div(A||(A=Object(on.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: #222222;\n    color: #979797;\n    width: 15rem;\n    height: 100vh;\n    position: relative;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 10;\n  "]))),c=an.a.div(N||(N=Object(on.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: #161616;\n    padding: 23px;\n    color: #7a7a7a;\n  "]))),i=an.a.div(U||(U=Object(on.a)(["\n    font-size: 18px;\n    line-height: 40px;\n  "]))),r=an.a.button(V||(V=Object(on.a)(["\n    background-color: transparent;\n    border: none;\n    font-size: 16px;\n    cursor: pointer;\n\n    &:after,\n    &:before {\n      content: '';\n      display: block;\n      background-color: #7a7a7a;\n      position: absolute;\n      transform: translate(-50%, -50%);\n    }\n\n    &:before {\n      height: 1em;\n      width: 0.2em;\n    }\n\n    &:after {\n      height: 0.2em;\n      width: 1em;\n    }\n  "]))),s=an.a.ul(Y||(Y=Object(on.a)(["\n    list-style: none;\n    font-size: 16px;\n    padding: 0;\n    margin: 0;\n    overflow-y: auto;\n  "]))),d=an.a.li(F||(F=Object(on.a)(["\n    padding: 12px 0 14px 16px;\n    text-align: left;\n    cursor: pointer;\n\n    &:hover {\n      background-image: linear-gradient(to right, #ffa883, #3927ff);\n      color: #ffffff;\n    }\n  "]))),l=function(n){var e=n.target.id;o([{id:e}])};return Object(Vn.jsxs)(a,{style:{display:t.images?"flex":"none"},children:[Object(Vn.jsxs)(c,{children:[Object(Vn.jsx)(i,{children:"\u66a2\u92b7\u699c\u55ae"}),Object(Vn.jsx)(r,{})]}),Object(Vn.jsx)(s,{children:e.map((function(n){return Object(Vn.jsx)(d,{id:n.id,onClick:l,children:n.title},n.id)}))})]})},Bn=function(n){var e=[];for(var t in n){var o=encodeURIComponent(t),a=encodeURIComponent(n[t]);e.push(o+"="+a)}return e=e.join("&")},qn=function(){var n=Object(W.useState)([]),e=Object(G.a)(n,2),t=e[0],o=e[1],a=Object(W.useState)({}),c=Object(G.a)(a,2),i=c[0],r=c[1],s={territory:"TW"},d=new Headers;d.append("Authorization","Bearer ".concat(localStorage.getItem("token")));var l=Object(W.useCallback)((function(){(function(){var n=Object(X.a)(J.a.mark((function n(){var e,t,a;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u();case 2:return n.next=4,Promise.all([j()]);case 4:e=n.sent,t=Object(G.a)(e,1),a=t[0],o(a);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]),u=function(){return fetch("https://music-express1.herokuapp.com",{}).then((function(n){return n.json()})).then((function(n){localStorage.setItem("token",n.access_token)})).catch((function(n){return console.log("error",n)}))},j=function(){return fetch("https://api.kkbox.com/v1.1/charts?".concat(Bn(s)),{headers:d}).then((function(n){return n.json()})).then((function(n){var e=n.data;return f(e),e}))},f=function(n){return fetch("https://api.kkbox.com/v1.1/charts/".concat(n[0].id,"?").concat(Bn(s)),{headers:d}).then((function(n){return n.json()})).then((function(n){return r(n)}))};return Object(W.useEffect)((function(){l()}),[l]),Object(Vn.jsxs)(Vn.Fragment,{children:[Object(Vn.jsx)(Hn,{chartsList:t,playList:i,getPlayListInfo:f}),Object(Vn.jsx)(Kn,{playList:i})]})};t(49);var Jn=function(){return Object(Vn.jsx)("div",{className:"App",children:Object(Vn.jsx)(qn,{})})},Xn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,51)).then((function(e){var t=e.getCLS,o=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;t(n),o(n),a(n),c(n),i(n)}))};B.a.render(Object(Vn.jsx)(K.a.StrictMode,{children:Object(Vn.jsx)(Jn,{})}),document.getElementById("root")),Xn()}},[[50,1,2]]]);
//# sourceMappingURL=main.29e67395.chunk.js.map