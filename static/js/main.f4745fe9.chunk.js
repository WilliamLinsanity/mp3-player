(this.webpackJsonpmusic=this.webpackJsonpmusic||[]).push([[0],{26:function(n,e,t){},27:function(n,e,t){},50:function(n,e,t){"use strict";t.r(e);var a,o,c,i,r,s,d,l,u,j,f,b,p,x,h,g,O,m,v,y,k,w,z,I,M,S,C,L,T,P,V,D,Y,U,_,N,F,E,R,W,A=t(1),q=t.n(A),B=t(14),J=t.n(B),X=(t(26),t(27),t(12)),H=t.n(X),G=t(15),K=t(6),Q=t(5),Z=t(7),$=t(8),nn=t(16),en=t.n(nn),tn=t(17),an=t(3),on=t(4),cn=on.a.div(a||(a=Object(an.a)(["\n  height: 100vh;\n  position: relative;\n  flex: 1 1 auto;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #2a2a2a;\n"]))),rn=on.a.div(o||(o=Object(an.a)(["\n  display: block;\n  height: 30vh;\n  object-fit: cover;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  z-index: 1;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: rgba(22, 22, 22, 0.8);\n    width: 100%;\n    height: 30vh;\n  }\n"]))),sn=on.a.div(c||(c=Object(an.a)(["\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n  color: #ffffff;\n  padding: 0 20px;\n  svg {\n    color: #ffffff;\n  }\n"]))),dn=on.a.div(i||(i=Object(an.a)(["\n  z-index: 20;\n  display: flex;\n  align-items: center;\n"]))),ln=on.a.div(r||(r=Object(an.a)(["\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background-color: #3927ff;\n  margin: 0 5px;\n"]))),un=on.a.div(s||(s=Object(an.a)(["\n  font-size: 16px;\n"]))),jn=on.a.div(d||(d=Object(an.a)(["\n  display: flex;\n  padding: 0 70px;\n  margin-top: 80px;\n  justify-content: space-between;\n\n  img {\n    width: 185px;\n    height: 185px;\n    z-index: 20;\n  }\n"]))),fn=on.a.div(l||(l=Object(an.a)(["\n  display: flex;\n  flex-direction: column;\n  color: #ffffff;\n  z-index: 20;\n"]))),bn=on.a.div(u||(u=Object(an.a)(["\n  font-size: 40px;\n  margin-bottom: 30px;\n"]))),pn=on.a.div(j||(j=Object(an.a)(["\n  font-size: 16px;\n"]))),xn=on.a.div(f||(f=Object(an.a)(["\n  display: flex;\n  flex-direction: column;\n  z-index: 20;\n  justify-content: flex-end;\n"]))),hn=on.a.button(b||(b=Object(an.a)(["\n  width: 82px;\n  height: 82px;\n  border-radius: 50%;\n  border: 0;\n  background-image: linear-gradient(to bottom left, #ffa883, #3927ff);\n  cursor: pointer;\n\n  &:hover {\n    background-image: linear-gradient(to top right, #ffa883, #3927ff);\n  }\n\n  svg {\n    text-align: center;\n    color: #ffffff;\n  }\n"]))),gn=on.a.ul(p||(p=Object(an.a)(["\n  flex: auto;\n  width: 100%;\n  padding: 80px 0 10px 0;\n  background-color: #2a2a2a;\n  height: 50vh;\n  overflow: hidden;\n  overflow-y: scroll;\n"]))),On=on.a.li(x||(x=Object(an.a)(["\n  font-size: 18px;\n  color: #ffffff;\n  margin: 5px 70px;\n  padding: 16px 30px;\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n\n  div {\n    margin: 0 5px;\n  }\n\n  &:nth-of-type(odd) {\n    background-color: #222222;\n  }\n\n  &:nth-of-type(even) {\n    background-color: #2a2a2a;\n  }\n\n  &:hover,\n  &.active {\n    background-image: linear-gradient(to right, #ffa883, #3927ff);\n  }\n"]))),mn=on.a.div(h||(h=Object(an.a)([""]))),vn=on.a.div(g||(g=Object(an.a)([""]))),yn=on.a.div(O||(O=Object(an.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),kn=on.a.div(m||(m=Object(an.a)(["\n  margin-right: 70px;\n"]))),wn=on.a.div(v||(v=Object(an.a)(["\n  margin: 0 10px;\n"]))),zn=on.a.div(y||(y=Object(an.a)(["\n  margin: 0 10px;\n"]))),In=on.a.div(k||(k=Object(an.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justfiy-content: center;\n  border-radius: 5px;\n  height: 10px;\n  margin: 20px 20px 0 20px;\n  background-color: #474747;\n  cursor: pointer;\n"]))),Mn=on.a.div(w||(w=Object(an.a)(["\n  position: absolute;\n  margin-left: -5px;\n  top: 50%;\n  transform: translateY(-50%);\n  left: 0;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  border-radius: 50%;\n  background-color: #d8d8d8;\n  z-index: 20;\n  cursor: pointer;\n"]))),Sn=on.a.div(z||(z=Object(an.a)(["\n  display: flex;\n  justfiy-content: center;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 10px;\n  border-radius: 5px;\n  background-image: linear-gradient(to bottom left, #ffa883, #3927ff);\n  z-index: 10;\n"]))),Cn=on.a.div(I||(I=Object(an.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin: 30px 10px 0 10px;\n"]))),Ln=on.a.div(M||(M=Object(an.a)(["\n  color: #474747;\n  font-size: 18px;\n"]))),Tn=on.a.div(S||(S=Object(an.a)(["\n  display: flex;\n\n  div {\n    padding: 0 20px;\n  }\n"]))),Pn=on.a.div(C||(C=Object(an.a)(["\n  color: #474747;\n  cursor: pointer;\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),Vn=on.a.div(L||(L=Object(an.a)(["\n  color: #474747;\n  cursor: pointer;\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),Dn=on.a.div(T||(T=Object(an.a)(["\n  color: #474747;\n  cursor: pointer;\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),Yn=on.a.div(P||(P=Object(an.a)(["\n  color: #474747;\n  cursor: pointer;\n\n  &.active {\n    color: #7a7a7a;\n  }\n"]))),Un=on.a.div(V||(V=Object(an.a)(["\n  display: flex;\n  color: #474747;\n  align-items: center;\n\n  svg {\n    cursor: pointer;\n  }\n\n  &:hover {\n    color: #7a7a7a;\n  }\n"]))),_n=on.a.div(D||(D=Object(an.a)(["\n  width: 150px;\n  position: relative;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justfiy-content: center;\n  height: 10px;\n  margin: 0 10px;\n  background-color: #474747;\n  cursor: pointer;\n"]))),Nn=on.a.div(Y||(Y=Object(an.a)(["\n  margin-left: -5px;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  left: 0;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: #d8d8d8;\n  z-index: 20;\n  cursor: pointer;\n"]))),Fn=on.a.div(U||(U=Object(an.a)(["\n  width: 150px;\n  display: flex;\n  justfiy-content: center;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 10px;\n  border-radius: 5px;\n  background-image: linear-gradient(to bottom left, #ffa883, #3927ff);\n  z-index: 10;\n"]))),En=t(0),Rn=function(n,e){var t=Math.floor(n%60),a=e?n/1e3/60:n/60,o=a/60;return a>=60?"".concat(Math.floor(o)," : ").concat(Math.floor(a)," : ").concat(t):a<10&&t>=10?"0".concat(Math.floor(a)," : ").concat(t):a<10&&t<10?"0".concat(Math.floor(a)," : 0").concat(t):a>10&&t<10?"".concat(Math.floor(a)," : 0").concat(t):"".concat(Math.floor(a)," : ").concat(t)},Wn={height:"0",width:"0",playerVars:{autoplay:0}},An=function(n,e){return Math.round(Math.round(n*Math.pow(10,(e||0)+1))/10)/Math.pow(10,e||0)},qn=function(n){var e=null,t=n.playList,a=t.images,o=t.tracks,c=t.title,i=t.description,r=t.updated_at,s=Object(A.useState)(null),d=Object(K.a)(s,2),l=d[0],u=d[1],j=Object(A.useState)(null),f=Object(K.a)(j,2),b=f[0],p=f[1],x=Object(A.useState)("qIAFyPYlq_U"),h=Object(K.a)(x,2),g=h[0],O=h[1],m=Object(A.useState)({songName:"",isLoop:!1}),v=Object(K.a)(m,2),y=v[0],k=v[1],w=Object(A.useState)({currentTime:Rn(0),duration:Rn(0)}),z=Object(K.a)(w,2),I=z[0],M=z[1],S=Object(A.useState)({songIndex:0,method:""}),C=Object(K.a)(S,2),L=C[0],T=C[1],P=Object(A.useState)({isMuted:!1,volume:0}),V=Object(K.a)(P,2),D=V[0],Y=V[1],U=Object(A.useState)({progress:"0%",volume:"0%"}),_=Object(K.a)(U,2),N=_[0],F=_[1],E=Object(A.useState)(!1),R=Object(K.a)(E,2),W=R[0],q=R[1],B=Object(A.useRef)(),J=Object(A.useRef)();Object(A.useEffect)((function(){T({songIndex:0,method:"init"}),o&&(X(o.data[0].name),k(Object(Q.a)(Object(Q.a)({},y),{},{songName:o.data[0].name})))}),[o]);var X=function(n){return fetch("https://www.googleapis.com/youtube/v3/search?".concat(function(n){var e=[];for(var t in n){var a=t,o=n[t];e.push(a+"="+o)}return e.join("&")}({key:"AIzaSyC9iesWC1JSmk0XPUeVS6t28VVzm_DuH24",part:"snippet",q:n}))).then((function(n){return n.json()})).then((function(n){O(n.items[0].id.videoId)})).catch((function(n){return console.log("error",n)}))},H=function(){e=setInterval((function(){var n=l.getCurrentTime()/l.getDuration()*100;M({duration:Rn(l.getDuration()),currentTime:Rn(l.getCurrentTime())}),F((function(e){return{volume:e.volume,progress:"".concat(An(n,2),"%")}}))}),1e3)},G=function(){l.playVideo(),H()},nn=function(){l.pauseVideo(),clearInterval(e)},an=function(n){var e=!1,t=Math.floor(n.nativeEvent.offsetX/J.current.offsetWidth*100);e||(F(Object(Q.a)(Object(Q.a)({},N),{},{volume:"".concat(An(t,2),"%")})),Y({isMuted:!Number(t),volume:t}),l.setVolume(t)),e=!e},on=function(){var n=D.volume;D.isMuted?(l.setVolume(D.volume),Y({isMuted:!1,volume:n})):(l.setVolume(0),Y(Object(Q.a)(Object(Q.a)({},D),{},{isMuted:!0})))},qn=function(n){1===n.target.getPlayerState()?(p(!0),function(n){k(Object(Q.a)(Object(Q.a)({},y),{},{songName:o.data[0].name})),Y(Object(Q.a)(Object(Q.a)({},D),{},{volume:n.target.getVolume()}))}(n)):5===n.target.getPlayerState()&&"change"===L.method?G():!n.target.getPlayerState()&&y.isLoop?(n.target.clearVideo(),n.target.playVideo()):n.target.getPlayerState()?p(!1):(T(Object(Q.a)(Object(Q.a)({},L),{},{songIndex:L.songIndex+1})),X(o.data[L.songIndex+1].name))},Bn=function(n){var t=n.nativeEvent.offsetX/B.current.offsetWidth*l.getDuration();W?(l.seekTo(Rn(t),!1),q(!W)):(e=setTimeout((function(){H(),l.seekTo(t,!0)}),1e3),q(!W))};return!!a&&Object(En.jsxs)(cn,{children:[Object(En.jsxs)(rn,{style:{backgroundImage:"url(".concat(a[0].url,")")},children:[Object(En.jsx)(sn,{children:Object(En.jsxs)(dn,{children:[Object(En.jsx)(ln,{}),Object(En.jsx)(un,{children:"William"})]})}),Object(En.jsxs)(jn,{children:[Object(En.jsx)("img",{src:a[0].url,alt:i}),Object(En.jsxs)(fn,{children:[Object(En.jsx)(bn,{children:c}),Object(En.jsxs)(pn,{children:["\u66f4\u65b0\u6642\u9593\uff1a",en()(r).format("YYYY.MM.DD")]})]}),Object(En.jsx)(xn,{children:b?Object(En.jsx)(hn,{onClick:nn,children:Object(En.jsx)(Z.a,{icon:$.b,size:"3x"})}):Object(En.jsx)(hn,{onClick:G,children:Object(En.jsx)(Z.a,{icon:$.d,size:"3x"})})})]})]}),Object(En.jsx)(gn,{children:o.data.map((function(n,e){return Object(En.jsxs)(On,{className:"".concat(L.songIndex===e?"active":""),onClick:function(){return function(n,e){T({method:"change",songIndex:e}),X(n.name)}(n,e)},children:[Object(En.jsx)(vn,{children:e+1}),Object(En.jsx)(mn,{children:n.name}),Object(En.jsxs)(yn,{children:[Object(En.jsx)(kn,{children:Rn(n.duration,n.name)}),Object(En.jsx)(wn,{children:Object(En.jsx)(Z.a,{icon:$.f})}),Object(En.jsx)(zn,{children:Object(En.jsx)(Z.a,{icon:$.a})})]})]},e)}))}),Object(En.jsxs)("footer",{children:[Object(En.jsxs)(In,{ref:B,onMouseDown:Bn,onMouseUp:Bn,children:[Object(En.jsx)(Mn,{onMouseDown:Bn,onMouseUp:Bn,style:{left:N.progress}}),Object(En.jsx)(Sn,{style:{width:N.progress}})]}),Object(En.jsxs)(Cn,{children:[Object(En.jsxs)(Ln,{children:[I.currentTime,"/",I.duration]}),Object(En.jsxs)(Tn,{children:[Object(En.jsx)(Vn,{onClick:function(){0===L.songIndex?(T(Object(Q.a)(Object(Q.a)({},L),{},{songIndex:o.data.length-1})),X(o.data[o.data.length-1].name)):(T(Object(Q.a)(Object(Q.a)({},L),{},{songIndex:o.data.length-1})),X(o.data[L.songIndex-1].name))},children:Object(En.jsx)(Z.a,{icon:$.h,size:"2x"})}),b?Object(En.jsx)(Pn,{onClick:nn,children:Object(En.jsx)(Z.a,{icon:$.c,size:"2x"})}):Object(En.jsx)(Pn,{onClick:G,children:Object(En.jsx)(Z.a,{icon:$.e,size:"2x"})}),Object(En.jsx)(Dn,{onClick:function(){L.songIndex===o.data.length-1?(T(Object(Q.a)(Object(Q.a)({},L),{},{songIndex:0})),X(o.data[0].name)):(T(Object(Q.a)(Object(Q.a)({},L),{},{songIndex:L.songIndex+1})),X(o.data[L.songIndex+1].name))},children:Object(En.jsx)(Z.a,{icon:$.i,size:"2x"})}),Object(En.jsx)(Yn,{className:"".concat(y.isLoop?"active":""),onClick:function(){l.setLoop(!0),k(Object(Q.a)(Object(Q.a)({},y),{},{isLoop:!y.isLoop}))},children:Object(En.jsx)(Z.a,{icon:$.g,size:"2x"})})]}),Object(En.jsxs)(Un,{children:[D.isMuted?Object(En.jsx)(Z.a,{onClick:on,icon:$.j,size:"2x"}):Object(En.jsx)(Z.a,{onClick:on,icon:$.k,size:"2x"}),Object(En.jsxs)(_n,{ref:J,onMouseUp:an,children:[Object(En.jsx)(Nn,{onMouseUp:an,style:{left:N.volume}}),Object(En.jsx)(Fn,{style:{width:N.volume}})]})]})]})]}),Object(En.jsx)(tn.a,{videoId:g,onReady:function(n){u(n.target)},opts:Wn,onStateChange:function(n){return qn(n)}})]})},Bn=function(n){var e=n.chartsList,t=n.playList,a=n.getPlayListInfo,o=on.a.div(_||(_=Object(an.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: #222222;\n    color: #979797;\n    width: 15rem;\n    height: 100vh;\n    position: relative;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 10;\n  "]))),c=on.a.div(N||(N=Object(an.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: #161616;\n    padding: 23px;\n    color: #7a7a7a;\n  "]))),i=on.a.div(F||(F=Object(an.a)(["\n    font-size: 18px;\n    line-height: 40px;\n  "]))),r=on.a.button(E||(E=Object(an.a)(["\n    background-color: transparent;\n    border: none;\n    font-size: 16px;\n    cursor: pointer;\n\n    &:after,\n    &:before {\n      content: '';\n      display: block;\n      background-color: #7a7a7a;\n      position: absolute;\n      transform: translate(-50%, -50%);\n    }\n\n    &:before {\n      height: 1em;\n      width: 0.2em;\n    }\n\n    &:after {\n      height: 0.2em;\n      width: 1em;\n    }\n  "]))),s=on.a.ul(R||(R=Object(an.a)(["\n    list-style: none;\n    font-size: 16px;\n    padding: 0;\n    margin: 0;\n    overflow-y: auto;\n  "]))),d=on.a.li(W||(W=Object(an.a)(["\n    padding: 12px 0 14px 16px;\n    text-align: left;\n    cursor: pointer;\n\n    &:hover {\n      background-image: linear-gradient(to right, #ffa883, #3927ff);\n      color: #ffffff;\n    }\n  "]))),l=function(n){var e=n.target.id;a([{id:e}])};return Object(En.jsxs)(o,{style:{display:t.images?"flex":"none"},children:[Object(En.jsxs)(c,{children:[Object(En.jsx)(i,{children:"\u66a2\u92b7\u699c\u55ae"}),Object(En.jsx)(r,{})]}),Object(En.jsx)(s,{children:e.map((function(n){return Object(En.jsx)(d,{id:n.id,onClick:l,children:n.title},n.id)}))})]})},Jn=function(n){var e=[];for(var t in n){var a=encodeURIComponent(t),o=encodeURIComponent(n[t]);e.push(a+"="+o)}return e=e.join("&")},Xn=function(){var n=Object(A.useState)([]),e=Object(K.a)(n,2),t=e[0],a=e[1],o=Object(A.useState)({}),c=Object(K.a)(o,2),i=c[0],r=c[1],s={territory:"TW"},d=new Headers;d.append("Authorization","Bearer ".concat(localStorage.getItem("token")));var l=Object(A.useCallback)((function(){(function(){var n=Object(G.a)(H.a.mark((function n(){var e,t,o;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u();case 2:return n.next=4,Promise.all([j()]);case 4:e=n.sent,t=Object(K.a)(e,1),o=t[0],a(o);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]),u=function(){return fetch("https://account.kkbox.com/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Jn({grant_type:"client_credentials",client_id:"9fab72c6f355b2e77e22a569bb669266",client_secret:"a52879fecbd32b8562a9eecd05615b31"})}).then((function(n){return n.json()})).then((function(n){localStorage.setItem("token",n.access_token)})).catch((function(n){return console.log("error",n)}))},j=function(){return fetch("https://api.kkbox.com/v1.1/charts?".concat(Jn(s)),{headers:d}).then((function(n){return n.json()})).then((function(n){var e=n.data;return f(e),e}))},f=function(n){return fetch("https://api.kkbox.com/v1.1/charts/".concat(n[0].id,"?").concat(Jn(s)),{headers:d}).then((function(n){return n.json()})).then((function(n){return r(n)}))};return Object(A.useEffect)((function(){l()}),[l]),Object(En.jsxs)(En.Fragment,{children:[Object(En.jsx)(Bn,{chartsList:t,playList:i,getPlayListInfo:f}),Object(En.jsx)(qn,{playList:i})]})};t(49);var Hn=function(){return Object(En.jsx)("div",{className:"App",children:Object(En.jsx)(Xn,{})})},Gn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,51)).then((function(e){var t=e.getCLS,a=e.getFID,o=e.getFCP,c=e.getLCP,i=e.getTTFB;t(n),a(n),o(n),c(n),i(n)}))};J.a.render(Object(En.jsx)(q.a.StrictMode,{children:Object(En.jsx)(Hn,{})}),document.getElementById("root")),Gn()}},[[50,1,2]]]);
//# sourceMappingURL=main.f4745fe9.chunk.js.map